# 📱💬 카카오톡 앱 (Java)

[![KR](https://img.shields.io/badge/README-한국어-blue)](./README.kakaotalkapp.ko.md)
[![EN](https://img.shields.io/badge/README-English-red)](./README.kakaotalkapp.md)

## 📖 프로젝트 배경 및 목표

- 실제 카카오톡 메신저 서비스를 모티브로 하여, 소켓 기반의 실시간 채팅 기능을 갖춘 Java로 휴대폰 앱을 구현.
- 단순 UI 수준을 넘어, 클라이언트-서버 간 양방향 통신 및 사용자 세션 관리까지 포함하여 실제 메신저 구조를 시뮬레이션.
- 사용자 친화적인 인터페이스와 즉각적인 메시지 전송 반응을 구현하여 실시간 통신 시스템의 구조와 동작 원리를 이해하는 데 초점을 맞춤.

## 🛠 사용 기술 스택

- **언어**: Java (Swing 기반 UI)
- **통신 방식**: TCP Socket / Multi-Threading
- **IDE**: Eclipse
- **DB**: MySQL
- **Thread 관리**: ExecutorService 기반 비동기 처리

---

## 🎬 결과 영상

카카오톡 앱 주요 기능 시연 GIF (MP4 → GIF 변환본)  
(※ GIF 파일은 로딩 시간이 다소 소요될 수 있습니다.)
- 💭 실시간 채팅 (클라이언트 ↔ 서버)
- 💾 메시지 저장 / 불러오기
- 💬 채팅방 전환 / 사용자 리스트 표시
- 🕓 시간 표시 및 송수신 상태 관리

<img src="https://github.com/user-attachments/assets/b6498ea0-4616-4f99-bdc9-dd5dae98f33e" width="400"/> - 카카오톡 앱 녹화본(1)<br>
<img src="https://github.com/user-attachments/assets/2592e18b-7740-4284-9750-1cd3454b97d9" width="400"/> - 카카오톡 앱 녹화본(2)

---

## 🧭 개발 과정에서의 어려움 & 해결

### 1) 실시간 양방향 통신 구조
- **증상**: 여러 사용자가 동시에 접속할 때 메시지 순서 꼬임 발생.
- **원인**: 단일 스레드에서 모든 클라이언트 요청을 순차적으로 처리.
- **해결**: ExecutorService 기반의 스레드 풀을 구성하여 각 클라이언트의 송수신을 비동기 처리.
- **효과**: 최대 10명 동시 접속 시에도 메시지 지연 0.3초 이하 유지.

### 2) 메시지 저장 및 불러오기
- **증상**: 클라이언트 종료 후 이전 대화 내용이 사라짐.
- **원인**: DB 연동 미비로 로그가 메모리에서만 유지.
- **해결**: 채팅 내용이 송신될 때마다 chat_log 테이블에 즉시 INSERT, 재접속 시 SELECT로 불러오기 구현.
- **효과**: 사용자별 대화 히스토리 유지 가능.

### 3) UI 스레드 블로킹
- **증상**: 메시지 수신 시 UI가 일시적으로 멈춤.
- **원인**: 수신 로직이 Event Dispatch Thread(EDT)에서 직접 실행됨.
- **해결**: SwingWorker 사용으로 UI와 수신 로직을 분리.
- **효과**: 송수신 시에도 화면 끊김 없이 부드럽게 작동.

### 4) 메시지 정렬 및 시각적 구조
- **증상**: 수신 메시지의 텍스트가 말풍선 내에서 정렬 불균형.
- **원인**: JLabel 렌더링 시 중앙 정렬 미적용.
- **해결**: FontMetrics와 Graphics를 활용해 텍스트 중앙 정렬 로직 추가.
- **효과**: 모든 메시지 말풍선이 균일한 간격으로 표시.

---

## 📝 배운 점

- **네트워크 프로그래밍의 핵심 이해**: TCP 소켓을 통한 실시간 데이터 송수신 구조 및 다중 스레드 관리 경험.
- **UI-Thread 분리의 중요성**: 이벤트 기반 애플리케이션에서 UI 렉을 최소화하는 방법 학습.
- **DB 설계 실무 감각**: user, chat_log, room 테이블 분리로 사용자별 채팅방 구조화.
- **확장성 고려**: 클라이언트-서버 구조를 기반으로 추후 모바일/웹 연동도 가능하도록 설계.

## 🚀 향후 개선 계획

- 이미지/파일 전송 기능 추가
- 그룹 채팅방 구현 (다중 사용자 브로드캐스트 구조 확장)
- WebSocket 기반 리팩토링 (실시간 성능 및 확장성 개선)
- **UX 향상**: 다크모드, 알림음, 프로필 설정 기능 추가
